<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Nback test</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/sky.css" id="theme">


		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section id="0">
					<h1>First</h1>
				</section>

			</div>

		</div>

		<script src="js/keyboard.js"></script>
		<script src="lib/head.min.js"></script>
		<script src="js/reveal.js"></script>
		<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
		<script>

			var test_1=['H','C','T','T','I','K','K','W'];
			var score_1=[0,0,0,1,0,0,1,0];
			var score={};

			$( document ).ready(function() {
				var c="";
				var i=1;
				$.each(test_1, function( index, value ) {
					c += "<section id=" + i + "><h1>" + value + "</h1></section>";
					i++;
				});
				c += "<section id=" + i +"></section>";
				$( ".slides" ).append( c );
			});

			// Full list of configuration options available here:
			Reveal.initialize({
				controls: false,
				progress: false,
				history: false,
				center: true,
				autoSlide: 2000,
				autoSlideStoppable: false,
				keyboard: true,

				transition: 'default', //default/cube/page/concave/zoom/linear/fade/none
			});


			KeyboardJS.on('d', function() { controller($(Reveal.getCurrentSlide()).attr('id'))});
			KeyboardJS.on('s', function() { display_score();}, null);

			function controller(slide_id){
				if (slide_id === "0"){
					disable_keyboard();
				}
				else if (slide_id <= test_1.length){
					addarray(slide_id)
				}
			}

			function addarray(slide_id){
				if (!(slide_id in score)){
					score[slide_id]=1;
				}
			}

			function disable_keyboard(){
				Reveal.next();
				Reveal.initialize({keyboard:false})
			}

			function display_score(){
				count_answers()
			}

			function count_answers(){
				for (var key in score) {
    				console.log(score[key]);
				}
			}
		</script>

	</body>
</html>
